@using SAFA_ECC_Core_Clean.ViewModels
@model InwardDetailsViewModel

@{ 
    ViewData["Title"] = "تفاصيل الوارد";
}

<div dir="rtl" lang="ar">
    <h1 class="text-center mb-4">تفاصيل الوارد</h1>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">معلومات الوارد الأساسية</h4>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-4">الرقم المرجعي:</dt>
                <dd class="col-sm-8">@Model.ReferenceNumber</dd>

                <dt class="col-sm-4">تاريخ الوارد:</dt>
                <dd class="col-sm-8">@Model.InwardDate.ToShortDateString()</dd>

                <dt class="col-sm-4">الموضوع:</dt>
                <dd class="col-sm-8">@Model.Subject</dd>

                <dt class="col-sm-4">الجهة المرسلة:</dt>
                <dd class="col-sm-8">@Model.Sender</dd>

                <dt class="col-sm-4">الحالة:</dt>
                <dd class="col-sm-8">@Model.Status</dd>
            </dl>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">المرفقات</h4>
        </div>
        <div class="card-body">
            @if (Model.Attachments != null && Model.Attachments.Any())
            {
                <ul class="list-group list-group-flush">
                    @foreach (var attachment in Model.Attachments)
                    {
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            @attachment.FileName
                            <a href="@attachment.FilePath" target="_blank" class="btn btn-sm btn-outline-primary">عرض</a>
                        </li>
                    }
                </ul>
            }
            else
            {
                <p class="text-muted">لا توجد مرفقات.</p>
            }
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-secondary text-white">
            <h4 class="mb-0">الإجراءات</h4>
        </div>
        <div class="card-body">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning me-2">تعديل</a>
            <a asp-action="Index" class="btn btn-outline-secondary">العودة إلى القائمة</a>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
